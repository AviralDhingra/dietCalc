{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport * as dom from '../../../browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\nimport { Action } from '../../../common/actions.js';\nimport { range } from '../../../common/arrays.js';\nimport { getCodiconAriaLabel } from '../../../common/codicons.js';\nimport { compareAnything } from '../../../common/comparers.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { matchesFuzzyIconAware, parseLabelWithIcons } from '../../../common/iconLabels.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { ltrim } from '../../../common/strings.js';\nimport { withNullAsUndefined } from '../../../common/types.js';\nimport { getIconClass } from './quickInputUtils.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nclass ListElement {\n  constructor(init) {\n    this.hidden = false;\n    this._onChecked = new Emitter();\n    this.onChecked = this._onChecked.event;\n    Object.assign(this, init);\n  }\n  get checked() {\n    return !!this._checked;\n  }\n  set checked(value) {\n    if (value !== this._checked) {\n      this._checked = value;\n      this._onChecked.fire(value);\n    }\n  }\n  dispose() {\n    this._onChecked.dispose();\n  }\n}\nclass ListElementRenderer {\n  get templateId() {\n    return ListElementRenderer.ID;\n  }\n  renderTemplate(container) {\n    const data = Object.create(null);\n    data.toDisposeElement = [];\n    data.toDisposeTemplate = [];\n    data.entry = dom.append(container, $('.quick-input-list-entry'));\n    // Checkbox\n    const label = dom.append(data.entry, $('label.quick-input-list-label'));\n    data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n      if (!data.checkbox.offsetParent) {\n        // If checkbox not visible:\n        e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n      }\n    }));\n\n    data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n    data.checkbox.type = 'checkbox';\n    data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n      data.element.checked = data.checkbox.checked;\n    }));\n    // Rows\n    const rows = dom.append(label, $('.quick-input-list-rows'));\n    const row1 = dom.append(rows, $('.quick-input-list-row'));\n    const row2 = dom.append(rows, $('.quick-input-list-row'));\n    // Label\n    data.label = new IconLabel(row1, {\n      supportHighlights: true,\n      supportDescriptionHighlights: true,\n      supportIcons: true\n    });\n    // Keybinding\n    const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n    data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\n    // Detail\n    const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n    data.detail = new IconLabel(detailContainer, {\n      supportHighlights: true,\n      supportIcons: true\n    });\n    // Separator\n    data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n    // Actions\n    data.actionBar = new ActionBar(data.entry);\n    data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n    data.toDisposeTemplate.push(data.actionBar);\n    return data;\n  }\n  renderElement(element, index, data) {\n    data.toDisposeElement = dispose(data.toDisposeElement);\n    data.element = element;\n    data.checkbox.checked = element.checked;\n    data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n    const {\n      labelHighlights,\n      descriptionHighlights,\n      detailHighlights\n    } = element;\n    // Label\n    const options = Object.create(null);\n    options.matches = labelHighlights || [];\n    options.descriptionTitle = element.saneDescription;\n    options.descriptionMatches = descriptionHighlights || [];\n    options.extraClasses = element.item.iconClasses;\n    options.italic = element.item.italic;\n    options.strikethrough = element.item.strikethrough;\n    data.label.setLabel(element.saneLabel, element.saneDescription, options);\n    // Keybinding\n    data.keybinding.set(element.item.keybinding);\n    // Meta\n    if (element.saneDetail) {\n      data.detail.setLabel(element.saneDetail, undefined, {\n        matches: detailHighlights,\n        title: element.saneDetail\n      });\n    }\n    // Separator\n    if (element.separator && element.separator.label) {\n      data.separator.textContent = element.separator.label;\n      data.separator.style.display = '';\n    } else {\n      data.separator.style.display = 'none';\n    }\n    data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n    // Actions\n    data.actionBar.clear();\n    const buttons = element.item.buttons;\n    if (buttons && buttons.length) {\n      data.actionBar.push(buttons.map((button, index) => {\n        let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n        if (button.alwaysVisible) {\n          cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n        }\n        const action = new Action(`id-${index}`, '', cssClasses, true, () => __awaiter(this, void 0, void 0, function* () {\n          element.fireButtonTriggered({\n            button,\n            item: element.item\n          });\n        }));\n        action.tooltip = button.tooltip || '';\n        return action;\n      }), {\n        icon: true,\n        label: false\n      });\n      data.entry.classList.add('has-actions');\n    } else {\n      data.entry.classList.remove('has-actions');\n    }\n  }\n  disposeElement(element, index, data) {\n    data.toDisposeElement = dispose(data.toDisposeElement);\n  }\n  disposeTemplate(data) {\n    data.toDisposeElement = dispose(data.toDisposeElement);\n    data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n  }\n}\nListElementRenderer.ID = 'listelement';\nclass ListElementDelegate {\n  getHeight(element) {\n    return element.saneDetail ? 44 : 22;\n  }\n  getTemplateId(element) {\n    return ListElementRenderer.ID;\n  }\n}\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n  QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n  QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n  QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n  QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n  QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n  QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n  QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nexport class QuickInputList {\n  constructor(parent, id, options) {\n    this.parent = parent;\n    this.inputElements = [];\n    this.elements = [];\n    this.elementsToIndexes = new Map();\n    this.matchOnDescription = false;\n    this.matchOnDetail = false;\n    this.matchOnLabel = true;\n    this.matchOnLabelMode = 'fuzzy';\n    this.matchOnMeta = true;\n    this.sortByLabel = true;\n    this._onChangedAllVisibleChecked = new Emitter();\n    this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n    this._onChangedCheckedCount = new Emitter();\n    this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n    this._onChangedVisibleCount = new Emitter();\n    this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n    this._onChangedCheckedElements = new Emitter();\n    this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n    this._onButtonTriggered = new Emitter();\n    this.onButtonTriggered = this._onButtonTriggered.event;\n    this._onKeyDown = new Emitter();\n    this.onKeyDown = this._onKeyDown.event;\n    this._onLeave = new Emitter();\n    this.onLeave = this._onLeave.event;\n    this._fireCheckedEvents = true;\n    this.elementDisposables = [];\n    this.disposables = [];\n    this.id = id;\n    this.container = dom.append(this.parent, $('.quick-input-list'));\n    const delegate = new ListElementDelegate();\n    const accessibilityProvider = new QuickInputAccessibilityProvider();\n    this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\n      identityProvider: {\n        getId: element => element.saneLabel\n      },\n      setRowLineHeight: false,\n      multipleSelectionSupport: false,\n      horizontalScrolling: false,\n      accessibilityProvider\n    });\n    this.list.getHTMLElement().id = id;\n    this.disposables.push(this.list);\n    this.disposables.push(this.list.onKeyDown(e => {\n      const event = new StandardKeyboardEvent(e);\n      switch (event.keyCode) {\n        case 10 /* KeyCode.Space */:\n          this.toggleCheckbox();\n          break;\n        case 31 /* KeyCode.KeyA */:\n          if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n            this.list.setFocus(range(this.list.length));\n          }\n          break;\n        case 16 /* KeyCode.UpArrow */:\n          {\n            const focus1 = this.list.getFocus();\n            if (focus1.length === 1 && focus1[0] === 0) {\n              this._onLeave.fire();\n            }\n            break;\n          }\n        case 18 /* KeyCode.DownArrow */:\n          {\n            const focus2 = this.list.getFocus();\n            if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n              this._onLeave.fire();\n            }\n            break;\n          }\n      }\n      this._onKeyDown.fire(event);\n    }));\n    this.disposables.push(this.list.onMouseDown(e => {\n      if (e.browserEvent.button !== 2) {\n        // Works around / fixes #64350.\n        e.browserEvent.preventDefault();\n      }\n    }));\n    this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n      if (e.x || e.y) {\n        // Avoid 'click' triggered by 'space' on checkbox.\n        this._onLeave.fire();\n      }\n    }));\n    this.disposables.push(this.list.onMouseMiddleClick(e => {\n      this._onLeave.fire();\n    }));\n    this.disposables.push(this.list.onContextMenu(e => {\n      if (typeof e.index === 'number') {\n        e.browserEvent.preventDefault();\n        // we want to treat a context menu event as\n        // a gesture to open the item at the index\n        // since we do not have any context menu\n        // this enables for example macOS to Ctrl-\n        // click on an item to open it.\n        this.list.setSelection([e.index]);\n      }\n    }));\n    this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onLeave, this._onKeyDown);\n  }\n  get onDidChangeFocus() {\n    return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n  }\n  get onDidChangeSelection() {\n    return Event.map(this.list.onDidChangeSelection, e => ({\n      items: e.elements.map(e => e.item),\n      event: e.browserEvent\n    }));\n  }\n  get scrollTop() {\n    return this.list.scrollTop;\n  }\n  set scrollTop(scrollTop) {\n    this.list.scrollTop = scrollTop;\n  }\n  getAllVisibleChecked() {\n    return this.allVisibleChecked(this.elements, false);\n  }\n  allVisibleChecked(elements) {\n    let whenNoneVisible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    for (let i = 0, n = elements.length; i < n; i++) {\n      const element = elements[i];\n      if (!element.hidden) {\n        if (!element.checked) {\n          return false;\n        } else {\n          whenNoneVisible = true;\n        }\n      }\n    }\n    return whenNoneVisible;\n  }\n  getCheckedCount() {\n    let count = 0;\n    const elements = this.elements;\n    for (let i = 0, n = elements.length; i < n; i++) {\n      if (elements[i].checked) {\n        count++;\n      }\n    }\n    return count;\n  }\n  getVisibleCount() {\n    let count = 0;\n    const elements = this.elements;\n    for (let i = 0, n = elements.length; i < n; i++) {\n      if (!elements[i].hidden) {\n        count++;\n      }\n    }\n    return count;\n  }\n  setAllVisibleChecked(checked) {\n    try {\n      this._fireCheckedEvents = false;\n      this.elements.forEach(element => {\n        if (!element.hidden) {\n          element.checked = checked;\n        }\n      });\n    } finally {\n      this._fireCheckedEvents = true;\n      this.fireCheckedEvents();\n    }\n  }\n  setElements(inputElements) {\n    this.elementDisposables = dispose(this.elementDisposables);\n    const fireButtonTriggered = event => this.fireButtonTriggered(event);\n    this.inputElements = inputElements;\n    this.elements = inputElements.reduce((result, item, index) => {\n      var _a, _b, _c;\n      if (item.type !== 'separator') {\n        const previous = index && inputElements[index - 1];\n        const saneLabel = item.label && item.label.replace(/\\r?\\n/g, ' ');\n        const saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n        const saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\n        const saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\n        const saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\n        const saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail].map(s => getCodiconAriaLabel(s)).filter(s => !!s).join(', ');\n        const hasCheckbox = this.parent.classList.contains('show-checkboxes');\n        result.push(new ListElement({\n          hasCheckbox,\n          index,\n          item,\n          saneLabel,\n          saneSortLabel,\n          saneMeta,\n          saneAriaLabel,\n          saneDescription,\n          saneDetail,\n          labelHighlights: (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label,\n          descriptionHighlights: (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description,\n          detailHighlights: (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail,\n          checked: false,\n          separator: previous && previous.type === 'separator' ? previous : undefined,\n          fireButtonTriggered\n        }));\n      }\n      return result;\n    }, []);\n    this.elementDisposables.push(...this.elements);\n    this.elementDisposables.push(...this.elements.map(element => element.onChecked(() => this.fireCheckedEvents())));\n    this.elementsToIndexes = this.elements.reduce((map, element, index) => {\n      map.set(element.item, index);\n      return map;\n    }, new Map());\n    this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n    this.list.splice(0, this.list.length, this.elements);\n    this._onChangedVisibleCount.fire(this.elements.length);\n  }\n  getFocusedElements() {\n    return this.list.getFocusedElements().map(e => e.item);\n  }\n  setFocusedElements(items) {\n    this.list.setFocus(items.filter(item => this.elementsToIndexes.has(item)).map(item => this.elementsToIndexes.get(item)));\n    if (items.length > 0) {\n      const focused = this.list.getFocus()[0];\n      if (typeof focused === 'number') {\n        this.list.reveal(focused);\n      }\n    }\n  }\n  getActiveDescendant() {\n    return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n  }\n  setSelectedElements(items) {\n    this.list.setSelection(items.filter(item => this.elementsToIndexes.has(item)).map(item => this.elementsToIndexes.get(item)));\n  }\n  getCheckedElements() {\n    return this.elements.filter(e => e.checked).map(e => e.item);\n  }\n  setCheckedElements(items) {\n    try {\n      this._fireCheckedEvents = false;\n      const checked = new Set();\n      for (const item of items) {\n        checked.add(item);\n      }\n      for (const element of this.elements) {\n        element.checked = checked.has(element.item);\n      }\n    } finally {\n      this._fireCheckedEvents = true;\n      this.fireCheckedEvents();\n    }\n  }\n  set enabled(value) {\n    this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n  }\n  focus(what) {\n    if (!this.list.length) {\n      return;\n    }\n    if (what === QuickInputListFocus.Next && this.list.getFocus()[0] === this.list.length - 1) {\n      what = QuickInputListFocus.First;\n    }\n    if (what === QuickInputListFocus.Previous && this.list.getFocus()[0] === 0) {\n      what = QuickInputListFocus.Last;\n    }\n    if (what === QuickInputListFocus.Second && this.list.length < 2) {\n      what = QuickInputListFocus.First;\n    }\n    switch (what) {\n      case QuickInputListFocus.First:\n        this.list.focusFirst();\n        break;\n      case QuickInputListFocus.Second:\n        this.list.focusNth(1);\n        break;\n      case QuickInputListFocus.Last:\n        this.list.focusLast();\n        break;\n      case QuickInputListFocus.Next:\n        this.list.focusNext();\n        break;\n      case QuickInputListFocus.Previous:\n        this.list.focusPrevious();\n        break;\n      case QuickInputListFocus.NextPage:\n        this.list.focusNextPage();\n        break;\n      case QuickInputListFocus.PreviousPage:\n        this.list.focusPreviousPage();\n        break;\n    }\n    const focused = this.list.getFocus()[0];\n    if (typeof focused === 'number') {\n      this.list.reveal(focused);\n    }\n  }\n  clearFocus() {\n    this.list.setFocus([]);\n  }\n  domFocus() {\n    this.list.domFocus();\n  }\n  layout(maxHeight) {\n    this.list.getHTMLElement().style.maxHeight = maxHeight ? `calc(${Math.floor(maxHeight / 44) * 44}px)` : '';\n    this.list.layout();\n  }\n  filter(query) {\n    if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n      this.list.layout();\n      return false;\n    }\n    const queryWithWhitespace = query;\n    query = query.trim();\n    // Reset filtering\n    if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n      this.elements.forEach(element => {\n        element.labelHighlights = undefined;\n        element.descriptionHighlights = undefined;\n        element.detailHighlights = undefined;\n        element.hidden = false;\n        const previous = element.index && this.inputElements[element.index - 1];\n        element.separator = previous && previous.type === 'separator' ? previous : undefined;\n      });\n    }\n    // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n    else {\n      let currentSeparator;\n      this.elements.forEach(element => {\n        let labelHighlights;\n        if (this.matchOnLabelMode === 'fuzzy') {\n          labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n        } else {\n          labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) : undefined;\n        }\n        const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n        const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n        const metaHighlights = this.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\n        if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\n          element.labelHighlights = labelHighlights;\n          element.descriptionHighlights = descriptionHighlights;\n          element.detailHighlights = detailHighlights;\n          element.hidden = false;\n        } else {\n          element.labelHighlights = undefined;\n          element.descriptionHighlights = undefined;\n          element.detailHighlights = undefined;\n          element.hidden = !element.item.alwaysShow;\n        }\n        element.separator = undefined;\n        // we can show the separator unless the list gets sorted by match\n        if (!this.sortByLabel) {\n          const previous = element.index && this.inputElements[element.index - 1];\n          currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n          if (currentSeparator && !element.hidden) {\n            element.separator = currentSeparator;\n            currentSeparator = undefined;\n          }\n        }\n      });\n    }\n    const shownElements = this.elements.filter(element => !element.hidden);\n    // Sort by value\n    if (this.sortByLabel && query) {\n      const normalizedSearchValue = query.toLowerCase();\n      shownElements.sort((a, b) => {\n        return compareEntries(a, b, normalizedSearchValue);\n      });\n    }\n    this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n      map.set(element.item, index);\n      return map;\n    }, new Map());\n    this.list.splice(0, this.list.length, shownElements);\n    this.list.setFocus([]);\n    this.list.layout();\n    this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n    this._onChangedVisibleCount.fire(shownElements.length);\n    return true;\n  }\n  toggleCheckbox() {\n    try {\n      this._fireCheckedEvents = false;\n      const elements = this.list.getFocusedElements();\n      const allChecked = this.allVisibleChecked(elements);\n      for (const element of elements) {\n        element.checked = !allChecked;\n      }\n    } finally {\n      this._fireCheckedEvents = true;\n      this.fireCheckedEvents();\n    }\n  }\n  display(display) {\n    this.container.style.display = display ? '' : 'none';\n  }\n  isDisplayed() {\n    return this.container.style.display !== 'none';\n  }\n  dispose() {\n    this.elementDisposables = dispose(this.elementDisposables);\n    this.disposables = dispose(this.disposables);\n  }\n  fireCheckedEvents() {\n    if (this._fireCheckedEvents) {\n      this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n      this._onChangedCheckedCount.fire(this.getCheckedCount());\n      this._onChangedCheckedElements.fire(this.getCheckedElements());\n    }\n  }\n  fireButtonTriggered(event) {\n    this._onButtonTriggered.fire(event);\n  }\n  style(styles) {\n    this.list.style(styles);\n  }\n}\n__decorate([memoize], QuickInputList.prototype, \"onDidChangeFocus\", null);\n__decorate([memoize], QuickInputList.prototype, \"onDidChangeSelection\", null);\nexport function matchesContiguousIconAware(query, target) {\n  const {\n    text,\n    iconOffsets\n  } = target;\n  // Return early if there are no icon markers in the word to match against\n  if (!iconOffsets || iconOffsets.length === 0) {\n    return matchesContiguous(query, text);\n  }\n  // Trim the word to match against because it could have leading\n  // whitespace now if the word started with an icon\n  const wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n  const leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n  // match on value without icon\n  const matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n  // Map matches back to offsets with icon and trimming\n  if (matches) {\n    for (const match of matches) {\n      const iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n      match.start += iconOffset;\n      match.end += iconOffset;\n    }\n  }\n  return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n  const matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n  if (matchIndex !== -1) {\n    return [{\n      start: matchIndex,\n      end: matchIndex + word.length\n    }];\n  }\n  return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n  const labelHighlightsA = elementA.labelHighlights || [];\n  const labelHighlightsB = elementB.labelHighlights || [];\n  if (labelHighlightsA.length && !labelHighlightsB.length) {\n    return -1;\n  }\n  if (!labelHighlightsA.length && labelHighlightsB.length) {\n    return 1;\n  }\n  if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n    return 0;\n  }\n  return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}\nclass QuickInputAccessibilityProvider {\n  getWidgetAriaLabel() {\n    return localize('quickInput', \"Quick Input\");\n  }\n  getAriaLabel(element) {\n    var _a;\n    return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label) ? `${element.saneAriaLabel}, ${element.separator.label}` : element.saneAriaLabel;\n  }\n  getWidgetRole() {\n    return 'listbox';\n  }\n  getRole(element) {\n    return element.hasCheckbox ? 'checkbox' : 'option';\n  }\n  isChecked(element) {\n    if (!element.hasCheckbox) {\n      return undefined;\n    }\n    return {\n      value: element.checked,\n      onDidChange: element.onChecked\n    };\n  }\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","dom","StandardKeyboardEvent","ActionBar","IconLabel","KeybindingLabel","Action","range","getCodiconAriaLabel","compareAnything","memoize","Emitter","Event","matchesFuzzyIconAware","parseLabelWithIcons","dispose","platform","ltrim","withNullAsUndefined","getIconClass","localize","$","ListElement","constructor","init","hidden","_onChecked","onChecked","event","assign","checked","_checked","fire","ListElementRenderer","templateId","ID","renderTemplate","container","data","create","toDisposeElement","toDisposeTemplate","entry","append","label","push","addStandardDisposableListener","EventType","CLICK","checkbox","offsetParent","preventDefault","type","CHANGE","element","rows","row1","row2","supportHighlights","supportDescriptionHighlights","supportIcons","keybindingContainer","keybinding","OS","detailContainer","detail","separator","actionBar","domNode","classList","add","renderElement","index","labelHighlights","descriptionHighlights","detailHighlights","options","matches","descriptionTitle","saneDescription","descriptionMatches","extraClasses","item","iconClasses","italic","strikethrough","setLabel","saneLabel","set","saneDetail","undefined","title","textContent","style","display","toggle","clear","buttons","map","button","cssClasses","iconClass","iconPath","alwaysVisible","action","fireButtonTriggered","tooltip","icon","remove","disposeElement","disposeTemplate","ListElementDelegate","getHeight","getTemplateId","QuickInputListFocus","QuickInputList","parent","id","inputElements","elements","elementsToIndexes","Map","matchOnDescription","matchOnDetail","matchOnLabel","matchOnLabelMode","matchOnMeta","sortByLabel","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onKeyDown","onKeyDown","_onLeave","onLeave","_fireCheckedEvents","elementDisposables","disposables","delegate","accessibilityProvider","QuickInputAccessibilityProvider","list","createList","identityProvider","getId","setRowLineHeight","multipleSelectionSupport","horizontalScrolling","getHTMLElement","keyCode","toggleCheckbox","isMacintosh","metaKey","ctrlKey","setFocus","focus1","getFocus","focus2","onMouseDown","browserEvent","addDisposableListener","x","y","onMouseMiddleClick","onContextMenu","setSelection","onDidChangeFocus","onDidChangeSelection","items","scrollTop","getAllVisibleChecked","allVisibleChecked","whenNoneVisible","n","getCheckedCount","count","getVisibleCount","setAllVisibleChecked","forEach","fireCheckedEvents","setElements","reduce","_a","_b","_c","previous","replace","saneSortLabel","text","trim","saneMeta","meta","description","saneAriaLabel","ariaLabel","s","filter","join","hasCheckbox","contains","highlights","splice","getFocusedElements","setFocusedElements","has","get","focused","reveal","getActiveDescendant","getAttribute","setSelectedElements","getCheckedElements","setCheckedElements","Set","enabled","pointerEvents","focus","what","Next","First","Previous","Last","Second","focusFirst","focusNth","focusLast","focusNext","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","clearFocus","domFocus","layout","maxHeight","Math","floor","query","queryWithWhitespace","currentSeparator","matchesContiguousIconAware","metaHighlights","alwaysShow","shownElements","normalizedSearchValue","toLowerCase","sort","a","b","compareEntries","allChecked","isDisplayed","styles","prototype","iconOffsets","matchesContiguous","wordToMatchAgainstWithoutIconsTrimmed","leadingWhitespaceOffset","match","iconOffset","start","end","word","wordToMatchAgainst","matchIndex","indexOf","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB","getWidgetAriaLabel","getAriaLabel","getWidgetRole","getRole","isChecked","onDidChange"],"sources":["/home/deathblade287/Desktop/AI-MODELS-TESTING/react-app/node_modules/monaco-editor/esm/vs/base/parts/quickinput/browser/quickInputList.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\nimport { Action } from '../../../common/actions.js';\nimport { range } from '../../../common/arrays.js';\nimport { getCodiconAriaLabel } from '../../../common/codicons.js';\nimport { compareAnything } from '../../../common/comparers.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { matchesFuzzyIconAware, parseLabelWithIcons } from '../../../common/iconLabels.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { ltrim } from '../../../common/strings.js';\nimport { withNullAsUndefined } from '../../../common/types.js';\nimport { getIconClass } from './quickInputUtils.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nclass ListElement {\n    constructor(init) {\n        this.hidden = false;\n        this._onChecked = new Emitter();\n        this.onChecked = this._onChecked.event;\n        Object.assign(this, init);\n    }\n    get checked() {\n        return !!this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire(value);\n        }\n    }\n    dispose() {\n        this._onChecked.dispose();\n    }\n}\nclass ListElementRenderer {\n    get templateId() {\n        return ListElementRenderer.ID;\n    }\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = [];\n        data.toDisposeTemplate = [];\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true });\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new IconLabel(detailContainer, { supportHighlights: true, supportIcons: true });\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.push(data.actionBar);\n        return data;\n    }\n    renderElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.element = element;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Label\n        const options = Object.create(null);\n        options.matches = labelHighlights || [];\n        options.descriptionTitle = element.saneDescription;\n        options.descriptionMatches = descriptionHighlights || [];\n        options.extraClasses = element.item.iconClasses;\n        options.italic = element.item.italic;\n        options.strikethrough = element.item.strikethrough;\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(element.item.keybinding);\n        // Meta\n        if (element.saneDetail) {\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title: element.saneDetail\n            });\n        }\n        // Separator\n        if (element.separator && element.separator.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        data.actionBar.clear();\n        const buttons = element.item.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => {\n                let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n                if (button.alwaysVisible) {\n                    cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n                }\n                const action = new Action(`id-${index}`, '', cssClasses, true, () => __awaiter(this, void 0, void 0, function* () {\n                    element.fireButtonTriggered({\n                        button,\n                        item: element.item\n                    });\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n    }\n}\nListElementRenderer.ID = 'listelement';\nclass ListElementDelegate {\n    getHeight(element) {\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        return ListElementRenderer.ID;\n    }\n}\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nexport class QuickInputList {\n    constructor(parent, id, options) {\n        this.parent = parent;\n        this.inputElements = [];\n        this.elements = [];\n        this.elementsToIndexes = new Map();\n        this.matchOnDescription = false;\n        this.matchOnDetail = false;\n        this.matchOnLabel = true;\n        this.matchOnLabelMode = 'fuzzy';\n        this.matchOnMeta = true;\n        this.sortByLabel = true;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onKeyDown = new Emitter();\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        this.onLeave = this._onLeave.event;\n        this._fireCheckedEvents = true;\n        this.elementDisposables = [];\n        this.disposables = [];\n        this.id = id;\n        this.container = dom.append(this.parent, $('.quick-input-list'));\n        const delegate = new ListElementDelegate();\n        const accessibilityProvider = new QuickInputAccessibilityProvider();\n        this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\n            identityProvider: { getId: element => element.saneLabel },\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            horizontalScrolling: false,\n            accessibilityProvider\n        });\n        this.list.getHTMLElement().id = id;\n        this.disposables.push(this.list);\n        this.disposables.push(this.list.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* KeyCode.Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyCode.KeyA */:\n                    if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this.list.setFocus(range(this.list.length));\n                    }\n                    break;\n                case 16 /* KeyCode.UpArrow */: {\n                    const focus1 = this.list.getFocus();\n                    if (focus1.length === 1 && focus1[0] === 0) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n                case 18 /* KeyCode.DownArrow */: {\n                    const focus2 = this.list.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n            }\n            this._onKeyDown.fire(event);\n        }));\n        this.disposables.push(this.list.onMouseDown(e => {\n            if (e.browserEvent.button !== 2) {\n                // Works around / fixes #64350.\n                e.browserEvent.preventDefault();\n            }\n        }));\n        this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n        this.disposables.push(this.list.onMouseMiddleClick(e => {\n            this._onLeave.fire();\n        }));\n        this.disposables.push(this.list.onContextMenu(e => {\n            if (typeof e.index === 'number') {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this.list.setSelection([e.index]);\n            }\n        }));\n        this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onLeave, this._onKeyDown);\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, e => ({ items: e.elements.map(e => e.item), event: e.browserEvent }));\n    }\n    get scrollTop() {\n        return this.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.list.scrollTop = scrollTop;\n    }\n    getAllVisibleChecked() {\n        return this.allVisibleChecked(this.elements, false);\n    }\n    allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    getCheckedCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (elements[i].checked) {\n                count++;\n            }\n        }\n        return count;\n    }\n    getVisibleCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (!elements[i].hidden) {\n                count++;\n            }\n        }\n        return count;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._fireCheckedEvents = false;\n            this.elements.forEach(element => {\n                if (!element.hidden) {\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this.elementDisposables = dispose(this.elementDisposables);\n        const fireButtonTriggered = (event) => this.fireButtonTriggered(event);\n        this.inputElements = inputElements;\n        this.elements = inputElements.reduce((result, item, index) => {\n            var _a, _b, _c;\n            if (item.type !== 'separator') {\n                const previous = index && inputElements[index - 1];\n                const saneLabel = item.label && item.label.replace(/\\r?\\n/g, ' ');\n                const saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n                const saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\n                const saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\n                const saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\n                const saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail]\n                    .map(s => getCodiconAriaLabel(s))\n                    .filter(s => !!s)\n                    .join(', ');\n                const hasCheckbox = this.parent.classList.contains('show-checkboxes');\n                result.push(new ListElement({\n                    hasCheckbox,\n                    index,\n                    item,\n                    saneLabel,\n                    saneSortLabel,\n                    saneMeta,\n                    saneAriaLabel,\n                    saneDescription,\n                    saneDetail,\n                    labelHighlights: (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label,\n                    descriptionHighlights: (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description,\n                    detailHighlights: (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail,\n                    checked: false,\n                    separator: previous && previous.type === 'separator' ? previous : undefined,\n                    fireButtonTriggered\n                }));\n            }\n            return result;\n        }, []);\n        this.elementDisposables.push(...this.elements);\n        this.elementDisposables.push(...this.elements.map(element => element.onChecked(() => this.fireCheckedEvents())));\n        this.elementsToIndexes = this.elements.reduce((map, element, index) => {\n            map.set(element.item, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n        this.list.splice(0, this.list.length, this.elements);\n        this._onChangedVisibleCount.fire(this.elements.length);\n    }\n    getFocusedElements() {\n        return this.list.getFocusedElements()\n            .map(e => e.item);\n    }\n    setFocusedElements(items) {\n        this.list.setFocus(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n        if (items.length > 0) {\n            const focused = this.list.getFocus()[0];\n            if (typeof focused === 'number') {\n                this.list.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        this.list.setSelection(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n    }\n    getCheckedElements() {\n        return this.elements.filter(e => e.checked)\n            .map(e => e.item);\n    }\n    setCheckedElements(items) {\n        try {\n            this._fireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this.elements) {\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    set enabled(value) {\n        this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    focus(what) {\n        if (!this.list.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Next && this.list.getFocus()[0] === this.list.length - 1) {\n            what = QuickInputListFocus.First;\n        }\n        if (what === QuickInputListFocus.Previous && this.list.getFocus()[0] === 0) {\n            what = QuickInputListFocus.Last;\n        }\n        if (what === QuickInputListFocus.Second && this.list.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this.list.focusFirst();\n                break;\n            case QuickInputListFocus.Second:\n                this.list.focusNth(1);\n                break;\n            case QuickInputListFocus.Last:\n                this.list.focusLast();\n                break;\n            case QuickInputListFocus.Next:\n                this.list.focusNext();\n                break;\n            case QuickInputListFocus.Previous:\n                this.list.focusPrevious();\n                break;\n            case QuickInputListFocus.NextPage:\n                this.list.focusNextPage();\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this.list.focusPreviousPage();\n                break;\n        }\n        const focused = this.list.getFocus()[0];\n        if (typeof focused === 'number') {\n            this.list.reveal(focused);\n        }\n    }\n    clearFocus() {\n        this.list.setFocus([]);\n    }\n    domFocus() {\n        this.list.domFocus();\n    }\n    layout(maxHeight) {\n        this.list.getHTMLElement().style.maxHeight = maxHeight ? `calc(${Math.floor(maxHeight / 44) * 44}px)` : '';\n        this.list.layout();\n    }\n    filter(query) {\n        if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.list.layout();\n            return false;\n        }\n        const queryWithWhitespace = query;\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.elements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this.inputElements[element.index - 1];\n                element.separator = previous && previous.type === 'separator' ? previous : undefined;\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this.elements.forEach(element => {\n                let labelHighlights;\n                if (this.matchOnLabelMode === 'fuzzy') {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                else {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n                const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n                const metaHighlights = this.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = !element.item.alwaysShow;\n                }\n                element.separator = undefined;\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this.inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this.elements.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n            map.set(element.item, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length, shownElements);\n        this.list.setFocus([]);\n        this.list.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._fireCheckedEvents = false;\n            const elements = this.list.getFocusedElements();\n            const allChecked = this.allVisibleChecked(elements);\n            for (const element of elements) {\n                element.checked = !allChecked;\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this.container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this.container.style.display !== 'none';\n    }\n    dispose() {\n        this.elementDisposables = dispose(this.elementDisposables);\n        this.disposables = dispose(this.disposables);\n    }\n    fireCheckedEvents() {\n        if (this._fireCheckedEvents) {\n            this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n            this._onChangedCheckedCount.fire(this.getCheckedCount());\n            this._onChangedCheckedElements.fire(this.getCheckedElements());\n        }\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n}\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeSelection\", null);\nexport function matchesContiguousIconAware(query, target) {\n    const { text, iconOffsets } = target;\n    // Return early if there are no icon markers in the word to match against\n    if (!iconOffsets || iconOffsets.length === 0) {\n        return matchesContiguous(query, text);\n    }\n    // Trim the word to match against because it could have leading\n    // whitespace now if the word started with an icon\n    const wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n    const leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n    // match on value without icon\n    const matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n    // Map matches back to offsets with icon and trimming\n    if (matches) {\n        for (const match of matches) {\n            const iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n            match.start += iconOffset;\n            match.end += iconOffset;\n        }\n    }\n    return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n    const matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n    if (matchIndex !== -1) {\n        return [{ start: matchIndex, end: matchIndex + word.length }];\n    }\n    return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        var _a;\n        return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label)\n            ? `${element.saneAriaLabel}, ${element.separator.label}`\n            : element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole(element) {\n        return element.hasCheckbox ? 'checkbox' : 'option';\n    }\n    isChecked(element) {\n        if (!element.hasCheckbox) {\n            return undefined;\n        }\n        return {\n            value: element.checked,\n            onDidChange: element.onChecked\n        };\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}