{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LanguagesRegistry } from './languagesRegistry.js';\nimport { firstOrDefault } from '../../../base/common/arrays.js';\nimport { TokenizationRegistry } from '../languages.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nexport class LanguageService extends Disposable {\n  constructor() {\n    let warnOnOverwrite = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    super();\n    this._onDidEncounterLanguage = this._register(new Emitter());\n    this.onDidEncounterLanguage = this._onDidEncounterLanguage.event;\n    this._onDidChange = this._register(new Emitter({\n      leakWarningThreshold: 200 /* https://github.com/microsoft/vscode/issues/119968 */\n    }));\n    this.onDidChange = this._onDidChange.event;\n    LanguageService.instanceCount++;\n    this._encounteredLanguages = new Set();\n    this._registry = this._register(new LanguagesRegistry(true, warnOnOverwrite));\n    this.languageIdCodec = this._registry.languageIdCodec;\n    this._register(this._registry.onDidChange(() => this._onDidChange.fire()));\n  }\n  dispose() {\n    LanguageService.instanceCount--;\n    super.dispose();\n  }\n  isRegisteredLanguageId(languageId) {\n    return this._registry.isRegisteredLanguageId(languageId);\n  }\n  getLanguageIdByLanguageName(languageName) {\n    return this._registry.getLanguageIdByLanguageName(languageName);\n  }\n  getLanguageIdByMimeType(mimeType) {\n    return this._registry.getLanguageIdByMimeType(mimeType);\n  }\n  guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {\n    const languageIds = this._registry.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n    return firstOrDefault(languageIds, null);\n  }\n  createById(languageId) {\n    return new LanguageSelection(this.onDidChange, () => {\n      return this._createAndGetLanguageIdentifier(languageId);\n    });\n  }\n  createByFilepathOrFirstLine(resource, firstLine) {\n    return new LanguageSelection(this.onDidChange, () => {\n      const languageId = this.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n      return this._createAndGetLanguageIdentifier(languageId);\n    });\n  }\n  _createAndGetLanguageIdentifier(languageId) {\n    if (!languageId || !this.isRegisteredLanguageId(languageId)) {\n      // Fall back to plain text if language is unknown\n      languageId = PLAINTEXT_LANGUAGE_ID;\n    }\n    if (!this._encounteredLanguages.has(languageId)) {\n      this._encounteredLanguages.add(languageId);\n      // Ensure tokenizers are created\n      TokenizationRegistry.getOrCreate(languageId);\n      // Fire event\n      this._onDidEncounterLanguage.fire(languageId);\n    }\n    return languageId;\n  }\n}\nLanguageService.instanceCount = 0;\nclass LanguageSelection {\n  constructor(_onDidChangeLanguages, _selector) {\n    this._onDidChangeLanguages = _onDidChangeLanguages;\n    this._selector = _selector;\n    this._listener = null;\n    this._emitter = null;\n    this.languageId = this._selector();\n  }\n  _dispose() {\n    if (this._listener) {\n      this._listener.dispose();\n      this._listener = null;\n    }\n    if (this._emitter) {\n      this._emitter.dispose();\n      this._emitter = null;\n    }\n  }\n  get onDidChange() {\n    if (!this._listener) {\n      this._listener = this._onDidChangeLanguages(() => this._evaluate());\n    }\n    if (!this._emitter) {\n      this._emitter = new Emitter({\n        onLastListenerRemove: () => {\n          this._dispose();\n        }\n      });\n    }\n    return this._emitter.event;\n  }\n  _evaluate() {\n    var _a;\n    const languageId = this._selector();\n    if (languageId === this.languageId) {\n      // no change\n      return;\n    }\n    this.languageId = languageId;\n    (_a = this._emitter) === null || _a === void 0 ? void 0 : _a.fire(this.languageId);\n  }\n}","map":{"version":3,"names":["Emitter","Disposable","LanguagesRegistry","firstOrDefault","TokenizationRegistry","PLAINTEXT_LANGUAGE_ID","LanguageService","constructor","warnOnOverwrite","_onDidEncounterLanguage","_register","onDidEncounterLanguage","event","_onDidChange","leakWarningThreshold","onDidChange","instanceCount","_encounteredLanguages","Set","_registry","languageIdCodec","fire","dispose","isRegisteredLanguageId","languageId","getLanguageIdByLanguageName","languageName","getLanguageIdByMimeType","mimeType","guessLanguageIdByFilepathOrFirstLine","resource","firstLine","languageIds","createById","LanguageSelection","_createAndGetLanguageIdentifier","createByFilepathOrFirstLine","has","add","getOrCreate","_onDidChangeLanguages","_selector","_listener","_emitter","_dispose","_evaluate","onLastListenerRemove","_a"],"sources":["/home/deathblade287/Desktop/AI-MODELS-TESTING/react-app/node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LanguagesRegistry } from './languagesRegistry.js';\nimport { firstOrDefault } from '../../../base/common/arrays.js';\nimport { TokenizationRegistry } from '../languages.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nexport class LanguageService extends Disposable {\n    constructor(warnOnOverwrite = false) {\n        super();\n        this._onDidEncounterLanguage = this._register(new Emitter());\n        this.onDidEncounterLanguage = this._onDidEncounterLanguage.event;\n        this._onDidChange = this._register(new Emitter({ leakWarningThreshold: 200 /* https://github.com/microsoft/vscode/issues/119968 */ }));\n        this.onDidChange = this._onDidChange.event;\n        LanguageService.instanceCount++;\n        this._encounteredLanguages = new Set();\n        this._registry = this._register(new LanguagesRegistry(true, warnOnOverwrite));\n        this.languageIdCodec = this._registry.languageIdCodec;\n        this._register(this._registry.onDidChange(() => this._onDidChange.fire()));\n    }\n    dispose() {\n        LanguageService.instanceCount--;\n        super.dispose();\n    }\n    isRegisteredLanguageId(languageId) {\n        return this._registry.isRegisteredLanguageId(languageId);\n    }\n    getLanguageIdByLanguageName(languageName) {\n        return this._registry.getLanguageIdByLanguageName(languageName);\n    }\n    getLanguageIdByMimeType(mimeType) {\n        return this._registry.getLanguageIdByMimeType(mimeType);\n    }\n    guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {\n        const languageIds = this._registry.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n        return firstOrDefault(languageIds, null);\n    }\n    createById(languageId) {\n        return new LanguageSelection(this.onDidChange, () => {\n            return this._createAndGetLanguageIdentifier(languageId);\n        });\n    }\n    createByFilepathOrFirstLine(resource, firstLine) {\n        return new LanguageSelection(this.onDidChange, () => {\n            const languageId = this.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n            return this._createAndGetLanguageIdentifier(languageId);\n        });\n    }\n    _createAndGetLanguageIdentifier(languageId) {\n        if (!languageId || !this.isRegisteredLanguageId(languageId)) {\n            // Fall back to plain text if language is unknown\n            languageId = PLAINTEXT_LANGUAGE_ID;\n        }\n        if (!this._encounteredLanguages.has(languageId)) {\n            this._encounteredLanguages.add(languageId);\n            // Ensure tokenizers are created\n            TokenizationRegistry.getOrCreate(languageId);\n            // Fire event\n            this._onDidEncounterLanguage.fire(languageId);\n        }\n        return languageId;\n    }\n}\nLanguageService.instanceCount = 0;\nclass LanguageSelection {\n    constructor(_onDidChangeLanguages, _selector) {\n        this._onDidChangeLanguages = _onDidChangeLanguages;\n        this._selector = _selector;\n        this._listener = null;\n        this._emitter = null;\n        this.languageId = this._selector();\n    }\n    _dispose() {\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = null;\n        }\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = null;\n        }\n    }\n    get onDidChange() {\n        if (!this._listener) {\n            this._listener = this._onDidChangeLanguages(() => this._evaluate());\n        }\n        if (!this._emitter) {\n            this._emitter = new Emitter({\n                onLastListenerRemove: () => {\n                    this._dispose();\n                }\n            });\n        }\n        return this._emitter.event;\n    }\n    _evaluate() {\n        var _a;\n        const languageId = this._selector();\n        if (languageId === this.languageId) {\n            // no change\n            return;\n        }\n        this.languageId = languageId;\n        (_a = this._emitter) === null || _a === void 0 ? void 0 : _a.fire(this.languageId);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}