{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { doHash } from '../../../base/common/hash.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { clamp, MovingAverage, SlidingWindowAverage } from '../../../base/common/numbers.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { matchesScheme } from '../../../platform/opener/common/opener.js';\nexport const ILanguageFeatureDebounceService = createDecorator('ILanguageFeatureDebounceService');\nvar IdentityHash;\n(function (IdentityHash) {\n  const _hashes = new WeakMap();\n  let pool = 0;\n  function of(obj) {\n    let value = _hashes.get(obj);\n    if (value === undefined) {\n      value = ++pool;\n      _hashes.set(obj, value);\n    }\n    return value;\n  }\n  IdentityHash.of = of;\n})(IdentityHash || (IdentityHash = {}));\nclass FeatureDebounceInformation {\n  constructor(_logService, _name, _registry, _default, _min, _max) {\n    this._logService = _logService;\n    this._name = _name;\n    this._registry = _registry;\n    this._default = _default;\n    this._min = _min;\n    this._max = _max;\n    this._cache = new LRUCache(50, 0.7);\n  }\n  _key(model) {\n    return model.id + this._registry.all(model).reduce((hashVal, obj) => doHash(IdentityHash.of(obj), hashVal), 0);\n  }\n  get(model) {\n    const key = this._key(model);\n    const avg = this._cache.get(key);\n    return avg ? clamp(avg.value, this._min, this._max) : this.default();\n  }\n  update(model, value) {\n    const key = this._key(model);\n    let avg = this._cache.get(key);\n    if (!avg) {\n      avg = new SlidingWindowAverage(6);\n      this._cache.set(key, avg);\n    }\n    const newValue = clamp(avg.update(value), this._min, this._max);\n    if (!matchesScheme(model.uri, 'output')) {\n      this._logService.trace(`[DEBOUNCE: ${this._name}] for ${model.uri.toString()} is ${newValue}ms`);\n    }\n    return newValue;\n  }\n  _overall() {\n    const result = new MovingAverage();\n    for (const [, avg] of this._cache) {\n      result.update(avg.value);\n    }\n    return result.value;\n  }\n  default() {\n    const value = this._overall() | 0 || this._default;\n    return clamp(value, this._min, this._max);\n  }\n}\nlet LanguageFeatureDebounceService = class LanguageFeatureDebounceService {\n  constructor(_logService) {\n    this._logService = _logService;\n    this._data = new Map();\n  }\n  for(feature, name, config) {\n    var _a, _b, _c;\n    const min = (_a = config === null || config === void 0 ? void 0 : config.min) !== null && _a !== void 0 ? _a : 50;\n    const max = (_b = config === null || config === void 0 ? void 0 : config.max) !== null && _b !== void 0 ? _b : Math.pow(min, 2);\n    const extra = (_c = config === null || config === void 0 ? void 0 : config.key) !== null && _c !== void 0 ? _c : undefined;\n    const key = `${IdentityHash.of(feature)},${min}${extra ? ',' + extra : ''}`;\n    let info = this._data.get(key);\n    if (!info) {\n      info = new FeatureDebounceInformation(this._logService, name, feature, this._overallAverage() | 0 || min * 1.5,\n      // default is overall default or derived from min-value\n      min, max);\n      this._data.set(key, info);\n    }\n    return info;\n  }\n  _overallAverage() {\n    // Average of all language features. Not a great value but an approximation\n    const result = new MovingAverage();\n    for (const info of this._data.values()) {\n      result.update(info.default());\n    }\n    return result.value;\n  }\n};\nLanguageFeatureDebounceService = __decorate([__param(0, ILogService)], LanguageFeatureDebounceService);\nexport { LanguageFeatureDebounceService };\nregisterSingleton(ILanguageFeatureDebounceService, LanguageFeatureDebounceService, true);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","doHash","LRUCache","clamp","MovingAverage","SlidingWindowAverage","registerSingleton","createDecorator","ILogService","matchesScheme","ILanguageFeatureDebounceService","IdentityHash","_hashes","WeakMap","pool","of","obj","value","get","undefined","set","FeatureDebounceInformation","constructor","_logService","_name","_registry","_default","_min","_max","_cache","_key","model","id","all","reduce","hashVal","avg","default","update","newValue","uri","trace","toString","_overall","result","LanguageFeatureDebounceService","_data","Map","for","feature","name","config","_a","_b","_c","min","max","Math","pow","extra","info","_overallAverage","values"],"sources":["/home/deathblade287/Desktop/AI-MODELS-TESTING/react-app/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { doHash } from '../../../base/common/hash.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { clamp, MovingAverage, SlidingWindowAverage } from '../../../base/common/numbers.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { matchesScheme } from '../../../platform/opener/common/opener.js';\nexport const ILanguageFeatureDebounceService = createDecorator('ILanguageFeatureDebounceService');\nvar IdentityHash;\n(function (IdentityHash) {\n    const _hashes = new WeakMap();\n    let pool = 0;\n    function of(obj) {\n        let value = _hashes.get(obj);\n        if (value === undefined) {\n            value = ++pool;\n            _hashes.set(obj, value);\n        }\n        return value;\n    }\n    IdentityHash.of = of;\n})(IdentityHash || (IdentityHash = {}));\nclass FeatureDebounceInformation {\n    constructor(_logService, _name, _registry, _default, _min, _max) {\n        this._logService = _logService;\n        this._name = _name;\n        this._registry = _registry;\n        this._default = _default;\n        this._min = _min;\n        this._max = _max;\n        this._cache = new LRUCache(50, 0.7);\n    }\n    _key(model) {\n        return model.id + this._registry.all(model).reduce((hashVal, obj) => doHash(IdentityHash.of(obj), hashVal), 0);\n    }\n    get(model) {\n        const key = this._key(model);\n        const avg = this._cache.get(key);\n        return avg\n            ? clamp(avg.value, this._min, this._max)\n            : this.default();\n    }\n    update(model, value) {\n        const key = this._key(model);\n        let avg = this._cache.get(key);\n        if (!avg) {\n            avg = new SlidingWindowAverage(6);\n            this._cache.set(key, avg);\n        }\n        const newValue = clamp(avg.update(value), this._min, this._max);\n        if (!matchesScheme(model.uri, 'output')) {\n            this._logService.trace(`[DEBOUNCE: ${this._name}] for ${model.uri.toString()} is ${newValue}ms`);\n        }\n        return newValue;\n    }\n    _overall() {\n        const result = new MovingAverage();\n        for (const [, avg] of this._cache) {\n            result.update(avg.value);\n        }\n        return result.value;\n    }\n    default() {\n        const value = (this._overall() | 0) || this._default;\n        return clamp(value, this._min, this._max);\n    }\n}\nlet LanguageFeatureDebounceService = class LanguageFeatureDebounceService {\n    constructor(_logService) {\n        this._logService = _logService;\n        this._data = new Map();\n    }\n    for(feature, name, config) {\n        var _a, _b, _c;\n        const min = (_a = config === null || config === void 0 ? void 0 : config.min) !== null && _a !== void 0 ? _a : 50;\n        const max = (_b = config === null || config === void 0 ? void 0 : config.max) !== null && _b !== void 0 ? _b : Math.pow(min, 2);\n        const extra = (_c = config === null || config === void 0 ? void 0 : config.key) !== null && _c !== void 0 ? _c : undefined;\n        const key = `${IdentityHash.of(feature)},${min}${extra ? ',' + extra : ''}`;\n        let info = this._data.get(key);\n        if (!info) {\n            info = new FeatureDebounceInformation(this._logService, name, feature, (this._overallAverage() | 0) || (min * 1.5), // default is overall default or derived from min-value\n            min, max);\n            this._data.set(key, info);\n        }\n        return info;\n    }\n    _overallAverage() {\n        // Average of all language features. Not a great value but an approximation\n        const result = new MovingAverage();\n        for (const info of this._data.values()) {\n            result.update(info.default());\n        }\n        return result.value;\n    }\n};\nLanguageFeatureDebounceService = __decorate([\n    __param(0, ILogService)\n], LanguageFeatureDebounceService);\nexport { LanguageFeatureDebounceService };\nregisterSingleton(ILanguageFeatureDebounceService, LanguageFeatureDebounceService, true);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}