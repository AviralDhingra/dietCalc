{"ast":null,"code":"var _jsxFileName = \"/home/deathblade287/Desktop/AI-MODELS-TESTING/react-app/src/MonacoDiffEditor.jsx\",\n  _s = $RefreshSig$();\nimport * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\nimport * as React from \"react\";\nimport { useEffect, useMemo, useRef } from \"react\";\nimport { MonacoDiffEditorProps } from \"./types\";\nimport { noop, processSize } from \"./utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MonacoDiffEditor(_ref) {\n  _s();\n  let {\n    width,\n    height,\n    value,\n    defaultValue,\n    language,\n    theme,\n    options,\n    overrideServices,\n    editorWillMount,\n    editorDidMount,\n    editorWillUnmount,\n    onChange,\n    className,\n    original\n  } = _ref;\n  const containerElement = useRef < HTMLDivElement | null > null;\n  const editor = useRef < monaco.editor.IStandaloneDiffEditor | null > null;\n  const _subscription = useRef < monaco.IDisposable | null > null;\n  const __prevent_trigger_change_event = useRef < boolean | null > null;\n  const fixedWidth = processSize(width);\n  const fixedHeight = processSize(height);\n  const style = useMemo(() => ({\n    width: fixedWidth,\n    height: fixedHeight\n  }), [fixedWidth, fixedHeight]);\n  const handleEditorWillMount = () => {\n    const finalOptions = editorWillMount(monaco);\n    return finalOptions || {};\n  };\n  const handleEditorDidMount = () => {\n    editorDidMount(editor.current, monaco);\n    const {\n      modified\n    } = editor.current.getModel();\n    _subscription.current = modified.onDidChangeContent(event => {\n      if (!__prevent_trigger_change_event.current) {\n        onChange(modified.getValue(), event);\n      }\n    });\n  };\n  const handleEditorWillUnmount = () => {\n    editorWillUnmount(editor.current, monaco);\n  };\n  const initModels = () => {\n    const finalValue = value != null ? value : defaultValue;\n    const originalModel = monaco.editor.createModel(original, language);\n    const modifiedModel = monaco.editor.createModel(finalValue, language);\n    editor.current.setModel({\n      original: originalModel,\n      modified: modifiedModel\n    });\n  };\n  useEffect(() => {\n    if (containerElement.current) {\n      // Before initializing monaco editor\n      handleEditorWillMount();\n      editor.current = monaco.editor.createDiffEditor(containerElement.current, {\n        ...(className ? {\n          extraEditorClassName: className\n        } : {}),\n        ...options,\n        ...(theme ? {\n          theme\n        } : {})\n      }, overrideServices);\n      // After initializing monaco editor\n      initModels();\n      handleEditorDidMount();\n    }\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  useEffect(() => {\n    if (editor.current) {\n      editor.current.updateOptions({\n        ...(className ? {\n          extraEditorClassName: className\n        } : {}),\n        ...options\n      });\n    }\n  }, [className, options]);\n  useEffect(() => {\n    if (editor.current) {\n      editor.current.layout();\n    }\n  }, [width, height]);\n  useEffect(() => {\n    if (editor.current) {\n      const {\n        original: originalEditor,\n        modified\n      } = editor.current.getModel();\n      monaco.editor.setModelLanguage(originalEditor, language);\n      monaco.editor.setModelLanguage(modified, language);\n    }\n  }, [language]);\n  useEffect(() => {\n    if (editor.current) {\n      const {\n        modified\n      } = editor.current.getModel();\n      __prevent_trigger_change_event.current = true;\n      // modifiedEditor is not in the public API for diff editors\n      editor.current.getModifiedEditor().pushUndoStop();\n      // pushEditOperations says it expects a cursorComputer, but doesn't seem to need one.\n      // @ts-expect-error\n      modified.pushEditOperations([], [{\n        range: modified.getFullModelRange(),\n        text: value\n      }]);\n      // modifiedEditor is not in the public API for diff editors\n      editor.current.getModifiedEditor().pushUndoStop();\n      __prevent_trigger_change_event.current = false;\n    }\n  }, [value]);\n  useEffect(() => {\n    monaco.editor.setTheme(theme);\n  }, [theme]);\n  useEffect(() => {\n    if (editor.current) {\n      const {\n        original: originalEditor\n      } = editor.current.getModel();\n      if (original !== originalEditor.getValue()) {\n        originalEditor.setValue(original);\n      }\n    }\n  }, [original]);\n  useEffect(() => () => {\n    if (editor.current) {\n      handleEditorWillUnmount();\n      editor.current.dispose();\n      const {\n        original: originalEditor,\n        modified\n      } = editor.current.getModel();\n      if (originalEditor) {\n        originalEditor.dispose();\n      }\n      if (modified) {\n        modified.dispose();\n      }\n    }\n    if (_subscription.current) {\n      _subscription.current.dispose();\n    }\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerElement,\n    style: style,\n    className: \"react-monaco-editor-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n}\n_s(MonacoDiffEditor, \"M8iPAdRJHPfIa94GNSVqjKnr63c=\");\n_c = MonacoDiffEditor;\nMonacoDiffEditor.defaultProps = {\n  width: \"100%\",\n  height: \"100%\",\n  original: null,\n  value: null,\n  defaultValue: \"\",\n  language: \"javascript\",\n  theme: null,\n  options: {},\n  overrideServices: {},\n  editorWillMount: noop,\n  editorDidMount: noop,\n  editorWillUnmount: noop,\n  onChange: noop,\n  className: null\n};\nexport default MonacoDiffEditor;\nvar _c;\n$RefreshReg$(_c, \"MonacoDiffEditor\");","map":{"version":3,"names":["monaco","React","useEffect","useMemo","useRef","MonacoDiffEditorProps","noop","processSize","MonacoDiffEditor","width","height","value","defaultValue","language","theme","options","overrideServices","editorWillMount","editorDidMount","editorWillUnmount","onChange","className","original","containerElement","HTMLDivElement","editor","IStandaloneDiffEditor","_subscription","IDisposable","__prevent_trigger_change_event","boolean","fixedWidth","fixedHeight","style","handleEditorWillMount","finalOptions","handleEditorDidMount","current","modified","getModel","onDidChangeContent","event","getValue","handleEditorWillUnmount","initModels","finalValue","originalModel","createModel","modifiedModel","setModel","createDiffEditor","extraEditorClassName","updateOptions","layout","originalEditor","setModelLanguage","getModifiedEditor","pushUndoStop","pushEditOperations","range","getFullModelRange","text","setTheme","setValue","dispose","defaultProps"],"sources":["/home/deathblade287/Desktop/AI-MODELS-TESTING/react-app/src/MonacoDiffEditor.jsx"],"sourcesContent":["import * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\nimport * as React from \"react\";\nimport { useEffect, useMemo, useRef } from \"react\";\nimport { MonacoDiffEditorProps } from \"./types\";\nimport { noop, processSize } from \"./utils\";\n\nfunction MonacoDiffEditor({\n  width,\n  height,\n  value,\n  defaultValue,\n  language,\n  theme,\n  options,\n  overrideServices,\n  editorWillMount,\n  editorDidMount,\n  editorWillUnmount,\n  onChange,\n  className,\n  original,\n}: MonacoDiffEditorProps) {\n  const containerElement = useRef<HTMLDivElement | null>(null);\n\n  const editor = useRef<monaco.editor.IStandaloneDiffEditor | null>(null);\n\n  const _subscription = useRef<monaco.IDisposable | null>(null);\n\n  const __prevent_trigger_change_event = useRef<boolean | null>(null);\n\n  const fixedWidth = processSize(width);\n\n  const fixedHeight = processSize(height);\n\n  const style = useMemo(\n    () => ({\n      width: fixedWidth,\n      height: fixedHeight,\n    }),\n    [fixedWidth, fixedHeight]\n  );\n\n  const handleEditorWillMount = () => {\n    const finalOptions = editorWillMount(monaco);\n    return finalOptions || {};\n  };\n\n  const handleEditorDidMount = () => {\n    editorDidMount(editor.current, monaco);\n\n    const { modified } = editor.current.getModel();\n    _subscription.current = modified.onDidChangeContent((event) => {\n      if (!__prevent_trigger_change_event.current) {\n        onChange(modified.getValue(), event);\n      }\n    });\n  };\n\n  const handleEditorWillUnmount = () => {\n    editorWillUnmount(editor.current, monaco);\n  };\n\n  const initModels = () => {\n    const finalValue = value != null ? value : defaultValue;\n    const originalModel = monaco.editor.createModel(original, language);\n    const modifiedModel = monaco.editor.createModel(finalValue, language);\n    editor.current.setModel({\n      original: originalModel,\n      modified: modifiedModel,\n    });\n  };\n\n  useEffect(\n    () => {\n      if (containerElement.current) {\n        // Before initializing monaco editor\n        handleEditorWillMount();\n        editor.current = monaco.editor.createDiffEditor(\n          containerElement.current,\n          {\n            ...(className ? { extraEditorClassName: className } : {}),\n            ...options,\n            ...(theme ? { theme } : {}),\n          },\n          overrideServices\n        );\n        // After initializing monaco editor\n        initModels();\n        handleEditorDidMount();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  useEffect(() => {\n    if (editor.current) {\n      editor.current.updateOptions({\n        ...(className ? { extraEditorClassName: className } : {}),\n        ...options,\n      });\n    }\n  }, [className, options]);\n\n  useEffect(() => {\n    if (editor.current) {\n      editor.current.layout();\n    }\n  }, [width, height]);\n\n  useEffect(() => {\n    if (editor.current) {\n      const { original: originalEditor, modified } = editor.current.getModel();\n      monaco.editor.setModelLanguage(originalEditor, language);\n      monaco.editor.setModelLanguage(modified, language);\n    }\n  }, [language]);\n\n  useEffect(() => {\n    if (editor.current) {\n      const { modified } = editor.current.getModel();\n      __prevent_trigger_change_event.current = true;\n      // modifiedEditor is not in the public API for diff editors\n      editor.current.getModifiedEditor().pushUndoStop();\n      // pushEditOperations says it expects a cursorComputer, but doesn't seem to need one.\n      // @ts-expect-error\n      modified.pushEditOperations(\n        [],\n        [\n          {\n            range: modified.getFullModelRange(),\n            text: value,\n          },\n        ]\n      );\n      // modifiedEditor is not in the public API for diff editors\n      editor.current.getModifiedEditor().pushUndoStop();\n      __prevent_trigger_change_event.current = false;\n    }\n  }, [value]);\n\n  useEffect(() => {\n    monaco.editor.setTheme(theme);\n  }, [theme]);\n\n  useEffect(() => {\n    if (editor.current) {\n      const { original: originalEditor } = editor.current.getModel();\n      if (original !== originalEditor.getValue()) {\n        originalEditor.setValue(original);\n      }\n    }\n  }, [original]);\n\n  useEffect(\n    () => () => {\n      if (editor.current) {\n        handleEditorWillUnmount();\n        editor.current.dispose();\n        const { original: originalEditor, modified } =\n          editor.current.getModel();\n        if (originalEditor) {\n          originalEditor.dispose();\n        }\n        if (modified) {\n          modified.dispose();\n        }\n      }\n      if (_subscription.current) {\n        _subscription.current.dispose();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return (\n    <div\n      ref={containerElement}\n      style={style}\n      className=\"react-monaco-editor-container\"\n    />\n  );\n}\n\nMonacoDiffEditor.defaultProps = {\n  width: \"100%\",\n  height: \"100%\",\n  original: null,\n  value: null,\n  defaultValue: \"\",\n  language: \"javascript\",\n  theme: null,\n  options: {},\n  overrideServices: {},\n  editorWillMount: noop,\n  editorDidMount: noop,\n  editorWillUnmount: noop,\n  onChange: noop,\n  className: null,\n};\n\nexport default MonacoDiffEditor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}